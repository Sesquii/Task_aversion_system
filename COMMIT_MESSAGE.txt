Implement data isolation and security fixes for Phase 2B

This commit implements critical data isolation features and security fixes
to ensure users can only access their own data. It also fixes several
authentication and session management issues.

## Data Isolation Implementation

- Added user_id filtering to all InstanceManager methods:
  - list_active_instances() now requires and filters by user_id
  - get_instance() verifies instance ownership before returning
  - get_instances_by_task_id() filters by user_id
  - get_previous_task_averages() filters by user_id
  - list_recent_completed() filters by user_id
  - list_recent_tasks() filters by user_id
  - create_instance() accepts and stores user_id
  - complete_instance() verifies ownership before completing
  - cancel_instance() verifies ownership before cancelling

- Implemented per-user caching in InstanceManager to prevent data leakage
  between users when switching accounts

- Updated all UI pages to pass user_id to backend methods:
  - dashboard.py: All instance queries now use current_user_id
  - initialize_task.py: Added authentication check and user_id passing
  - complete_task.py: Added user_id verification for completion
  - cancel_task.py: Added user_id verification for cancellation
  - create_task.py: Already had user_id support

## Authentication & Session Management Fixes

- Fixed logout functionality to properly clear browser-side session tokens
  using ui.run_javascript() for full page reload

- Enhanced OAuth callback error handling with dedicated error page
  (_show_csrf_error_page) that clears session on security failures

- Fixed username uniqueness constraint issue:
  - Removed unique constraint from User.username in database model
  - Added fallback logic in get_or_create_user_from_oauth to handle
    IntegrityError gracefully

- Improved session user_id retrieval throughout dashboard to always
  get from current session rather than relying on stale global variables

## Security Enhancements

- Added user_id verification to complete_instance() and cancel_instance()
  methods to prevent users from modifying other users' instances

- All instance queries now return empty results if user_id is not provided
  (security-by-default approach)

- Fixed SyntaxError issues with global current_user_id declarations in
  dashboard.py by moving declarations to top of functions

## Database Migration Support

- Created migrate_null_instances_to_user1.py script to COPY (not move)
  all NULL user_id instances to User 1, preserving originals for dev branch

- Created search_database_instances.py script to inspect database state
  and verify data isolation

- Added dashboard warning about copied instances causing doubled scores
  on AUTH branch (temporary issue, will not be corrected)

## Current State

- Task templates: Currently shared (needs user-specific filtering)
- Monitored metrics: Currently shared (needs user-specific filtering)
- Analytics page: Currently shared (needs user-specific filtering)
- Recent completions: Isolated per user ✅
- Initialized tasks: Isolated per user ✅
- Active tasks: Isolated per user ✅
- Task instances: Isolated per user ✅

## Files Modified

- backend/instance_manager.py: Added user_id filtering to all methods
- backend/auth.py: Enhanced logout, OAuth error handling, user creation
- backend/database.py: Removed unique constraint from username
- ui/dashboard.py: Updated all queries to use user_id, fixed global declarations
- ui/initialize_task.py: Added authentication check and user_id passing
- ui/complete_task.py: Added user_id verification
- ui/cancel_task.py: Added user_id verification
- ui/settings_page.py: Added logout button
- ui/login.py: Fixed logout functionality

## Migration Scripts

- migrate_null_instances_to_user1.py: Copies NULL instances to User 1
- search_database_instances.py: Database inspection tool

This commit ensures proper data isolation while maintaining backward
compatibility with existing NULL user_id instances for the dev branch.
